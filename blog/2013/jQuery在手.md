jQuery在手，天下我有
====================

关于jQuery `.css()` 的支持情况 -- 2013.7.9
------------------------------------------

下午在做对话框的时候，发现下面的语句不起作用：
```
$_head.css('padding-left', opt['main-padding']);
```
不管是 `.css(k, v)` 形式还是 `.css({k: v})` 形式，均不好使。后来甚至倒腾了 `padding-left` 和 `paddingLeft` ，还是不见起色。  

唉，算了，那咱调试吧。

打个 **帅气的断点** ，看看裸体的js肿么了。  

呃……Watch了几个Expressions，值都是正确的。然后，在控制台手动调用了一句 `$_head.css('padding-left', opt['main-padding']);` ，果然。。。就是没反映（因为跟程序运行时调用的一样嘛，那出了问题，难道在控制台里就会没问题？）。  

不过眼尖的我还是看到点东西了：jQuery方法支持链式调用，所以控制台打印出了这个对象。而这个对象，带着不少 `.css()` 设置的内联样式，我仔细看了一遍，发现没有我要设置的 `padding` 。怎么回事呢？  
初步怀疑是被覆盖了，然后，回到源码里，在 `$_head.css(...)` 调用前后打印了几个 `$_head[0]` 对象，想比较看看方法执行结果对它们的影响。呃……对，没错！就是什么都没变！  

突然火了，要开始粗口了。。。  
消消气，在控制台里十分无聊且不报什么希望地打了一句 `$_head.css('padding-left', 10);` ，呃，你以为我不是白费力吗？刚才都试过一次了啊。我也是这么想的，要不怎么叫“无聊”呢？可是，偏偏在这时候，“奇迹”出现了，居然设置成功！！！  

尼玛，这什么情况，写个代码都这么诡异。。。感脚背后嗖凉嗖凉的有木有！！！  

上班时间呢，办公室这么多人，想必倩女不会来吧。  

开了会小差。。。言归正传。

静下心来思前想后，找不到理论支持，于是我打印了一遍 `opt['main-padding']` ，值为 `'10'` 。确实没什么，本来就是想传这个值的。  
等等，好像想起了什么。。。 `10` 和 `'10'` ，看着有点不一样呢。。。  

恍然大悟，我擦，这厮难道还分**数字**和**字符串**。赶紧实验下。。。  
是的，我已经确认了，不然不会写出这么有水平的文章来。被jQuery坑了，它果然分**数字**和**字符串**。值为数字或带 `px` 的字符串都可以正确设置，而**不带单位的字符串数字**，jQuery不认。  

本来到这就有结论了，可是我还有点不甘心，我之前这么设置的怎么可以，唯独这个不行呢？  
翻了翻代码，看下面这句，确实能成功设置：  
```
$_shadeBorder.css('padding', opt['border-width']);
```
呃……然后呢，你猜我会[说什么](# '对于padding，值可以接受数字、带或不带px的字符串；&#10;而对于padding-left，值只能接受数字 或 带px的字符串')。。。  
嗯 ，留给你总结吧！

所以以后，如果你设置了 `$xx.css('margin', '5')` 却没有效果时，不妨试试 `$xx.css('margin', '5px')` 或 `$xx.css('margin', 5)` 吧（如果是padding，这样 `$xx.css('padding', '5')` 是可以的）。



